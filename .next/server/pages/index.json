{"pageProps":{"blogs":[{"id":"53697","createdAt":"2021-04-18T09:27:13.135Z","updatedAt":"2021-04-30T01:39:05.588Z","publishedAt":"2021-04-18T09:27:13.135Z","revisedAt":"2021-04-30T01:39:05.588Z","title":"【Rails】指定した日付の期間で生成されたオブジェクトかどうかを判断する方法","body":"<p>たとえば、先月の月初〜月末に作成されたオブジェクトかどうかを評価したいとき。</p><p>最初にパッと思いついたのは、こんな書き方。</p><pre><code>object.created_at &gt;= 先月の月初 &amp;&amp; object.created_at &lt;= 先月の月末</code></pre><p><br></p><p>たしかにこれでもいけるのだけど、ちょっと長いしナイスに書きたい。</p><p>友人に相談して、こんなふうに書けることを知った。</p><pre><code>1.month.ago.all_month.cover?(object.created_at)</code></pre><p><br></p><p><code>all_month</code>  でその月の期間を範囲で取得できる。</p><pre><code>Rails 6.0.3.4 Ruby 2.6.6 [12] pry(main)&gt; 1.month.ago.all_month\n=&gt; Mon, 01 Mar 2021 00:00:00 JST +09:00..Wed, 31 Mar 2021 23:59:59 JST +09:00</code></pre><p><br></p><p><code>cover?</code>  でその範囲に該当していたら<code>true</code>  を返す。可読性も高いし便利〜。</p><p><br></p><p>参考</p><ul><li><a href=\"https://docs.ruby-lang.org/ja/latest/method/Range/i/=3d=3d=3d.html\" target=\"_blank\" rel=\"noopener noreferrer\">Range#=== (Ruby 3.0.0 リファレンスマニュアル)</a></li><li><a href=\"https://blog.toshimaru.net/datetime-range-check/\" target=\"_blank\" rel=\"noopener noreferrer\">[Ruby]日時が特定日時の範囲内にあるかのチェック - Hack Your Design!</a></li></ul>"},{"id":"54440","createdAt":"2021-04-18T06:12:15.351Z","updatedAt":"2021-04-18T09:06:37.684Z","publishedAt":"2021-04-18T06:12:15.351Z","revisedAt":"2021-04-18T09:06:37.684Z","title":"リモートワークで仕事モードに切り替える方法","body":"<p>リモートワークだと、仕事モードになれないときが時々ある。とくに月曜日は波に乗るのに時間がかかってしまいがち。</p><p>これがオフィスであればみんな集中してるし、良くも悪くも他人の目があるので強制的に脳が仕事モードに切り替わる。</p><p><br></p><p>ではリモートワークだとどうしたらいいか。</p><p><br></p><p>自分の場合、小さいタスクを片付けていってリズムに乗るのが自分に合っている。メールやチャットに返信したり、カレンダーで予定をチェックしたり。</p><p><br></p><p>あと、自分なりの仕事を始めるルーティンを作っている。</p><ul><li>出勤ボタンを押す</li><li>TODO作成</li><li>不具合報告チェック</li></ul><p>などなど。</p><p>負荷の少ないタスクをこなしていくことによって、リズムに乗れる気がしている。</p><p><br></p><p>どうしてもリズムに乗れない時は、カフェに行くという手もある。ただ、これは隣の人がうるさかったり、香水の匂いがキツかったら個人的にはツラくて集中できない。運ゲーの要素が多い。</p><p><br></p><p>うーむ、スパッと仕事モードに切り替えられる人になりたいなぁ。</p>"},{"id":"08927","createdAt":"2021-03-06T12:26:40.401Z","updatedAt":"2021-03-06T22:18:03.337Z","publishedAt":"2021-03-06T12:26:40.401Z","revisedAt":"2021-03-06T22:18:03.337Z","title":"Gatsby.js + Vercel + microCMSでブログをつくりました","body":"<p>今まで<a href=\"https://k-koh.hatenablog.com/\" target=\"_blank\" rel=\"noopener noreferrer\">はてなブログ</a>で書いてきましたが、Gatsby製のブログへ移行します。</p><h2 id=\"h03726fb0df\">技術スタック</h2><p>使用している技術について、なぜ選択したかを書きます。</p><p><br></p><h3 id=\"hb890d47f77\">Gatsby</h3><p><a href=\"https://www.gatsbyjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">The Fastest Frontend for the Modern Web | Gatsby</a></p><p><br></p><p>前から興味があったReact製の静的サイトジェネレーター「Gatsby」を選びました。今の仕事でReactとGraphQLをガッツリ書くので勉強したかったのもあります。</p><p>Next.jsも魅力的だったのですが、これは今考えてる個人開発アプリで使おうと思います。</p><p><br></p><h3 id=\"h065a574f0d\">Vercel</h3><p><a href=\"https://vercel.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Develop. Preview. Ship. For the best frontend teams – Vercel</a></p><p><br></p><p>ホスティングサービスにはVercelを選びました。Netlifyと迷いましたが、両方とも使ってみてVercelのほうがUIがわかりやすくて扱いやすいのでこちらにしました。でもNetlifyも普通に良いです。</p><p><br></p><h3 id=\"hae6947d5ce\">microCMS</h3><p><a href=\"https://microcms.io/\" target=\"_blank\" rel=\"noopener noreferrer\">microCMS｜APIベースの日本製ヘッドレスCMS</a></p><p><br></p><p>以前からHeadless CMSがどんなものか知りたい気持ちがあり、その中でも最近ブイブイいわせてるらしい日本製のmicroCMSを選びました。</p><p>Headless CMSだとContentfulが有名ですが、使い比べたうえでmicroCMSにしました。ContentfulよりもUIがわかりやすく使いやすいです。</p><h2 id=\"h29e6fce2eb\">作った感想</h2><p>作って感じたことを書きます。</p><p><br></p><h3 id=\"h646eb7e60c\">とにかく爆速！</h3><p>僕は6〜7年くらいWordPressを触ってきたのですが、さすがに静的サイトは爆速です・・・！</p><p>動的サイトと比べるのはアンフェアですが、ブログ程度ならもう動的にHTMLを生成する必要はないのでは？と思ってしまいます。</p><p><br></p><h3 id=\"h2565c786e4\">プラグインが豊富</h3><p>Gatsbyのプラグイン資産が豊富で、やりたいことはすぐに実装できる感じです。</p><p><br></p><h3 id=\"h38fbc44f31\">Vercelが使いやすい</h3><p>Vercelでのデプロイが簡単すぎておどろきました。誇張なしに5分くらいで終わりました。ビルドも早いです。</p><p>SSL化も当たり前のようにやってくれますし、独自ドメインにこだわらないなら完全無料でブログを運営できてしまいます。</p><p><br></p><p>ただ、記事を書いてビルドするのに1分ほどかかるので、誤字脱字を修正するのがすこし億劫ではあります。</p><p><br></p><h3 id=\"h40b1ee7929\">microCMSが使いやすい</h3><p>非エンジニアの編集者でも使えるように作られているだけあって、UIがわかりやすいです。日本語がデフォルトだし、細かいところに気が利いています。</p><p>個人利用では到底使い切れないほどの容量が無料で使えるのも最高です。</p><p><br></p><h3 id=\"hf2daa6258e\">Lighthouseスコアも良し</h3><p>Lighthouseでのスコアも圧巻です。</p><p><br></p><p><img src=\"https://images.microcms-assets.io/assets/1f398035763e4b0da922ad7beec6ccb1/fa2ec83c5d5a450e91b6537279003228/%E5%9C%A7%E5%B7%BB%E3%81%AALighthouse%E3%82%B9%E3%82%B3%E3%82%A2.jpg\" alt></p><p><br></p><p>動的生成のWordPressと比較するのはかわいそうですが、ゴリゴリにチューニングしたWordPressでようやく叩き出せるスコアが、Gatsbyを使うとすぐに出せちゃいます。</p><p><br></p><p>とはいえ、SEOはコンテンツのクオリティが勝負なので、その観点で見るとそんなに優劣はないのかなと思います。</p><p><br></p><h3 id=\"hf9c4170fa9\">デザインむずかしい</h3><p>早くリリースしたいがために、SCSSすら使わずCSSで書いてます。自分でデザインをするたび、デザイナーさんのすごさが身にしみます・・・。</p><p><br></p><h3 id=\"hb73770994e\">メンテナンスコストがどうなるか</h3><p>懸念点はメンテナンスコストです。特にJavaScript関連はvulnerabilitiesが頻繁に出るイメージがあります。<code>npm audit fix</code>しても直らないあんな面倒な思いはしたくない・・・。</p><p><br></p><h2 id=\"h3c32fc6d05\">今後の実装予定</h2><p>今回はミニマムリリースなので、まだまだ実装したいことがあります。</p><ul><li>今後記事が増えるため、ページネーションは必須</li><li>記事の検索機能が欲しい</li><li>TypeScriptで書きたい</li><li>さすがにデザインが質素すぎるのでTailwind CSSやchakraUIとかに挑戦してみたい</li></ul><p>などなど。</p><p><br></p><p>なお、技術系をメインに書きますが、プライベートなことも書いていきたいと思います。</p><p>ちなみにリポジトリはこちらです。</p><p><a href=\"https://github.com/kotakanazawa/blog\" target=\"_blank\" rel=\"noopener noreferrer\">kotakanazawa&#x2F;blog</a></p>"}]},"__N_SSG":true}