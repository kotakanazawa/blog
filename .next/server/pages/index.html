<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="Learn how to build a personal website using Next.js"/><meta property="og:image" content="https://og-image.vercel.app/Just%20Do%20IT.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="Just Do IT"/><meta name="twitter:card" content="summary_large_image"/><link rel="preload" as="image" imagesrcset="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=256&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=384&amp;q=75 2x"/><title>Just Do IT</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/55eae9cb2a19467e4924.css" as="style"/><link rel="stylesheet" href="/_next/static/css/55eae9cb2a19467e4924.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6300dbcfde5539d91bad.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6300dbcfde5539d91bad.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-6aa24242c38afc8913a0.js" defer=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" defer=""></script><script src="/_next/static/chunks/main-4777350f2a9ff73ea2b0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-09fc7e09cd25b4424e64.js" defer=""></script><script src="/_next/static/chunks/738-b37e1cd6d4c0c5141644.js" defer=""></script><script src="/_next/static/chunks/pages/index-a7b68e445d5dfcde3fa5.js" defer=""></script><script src="/_next/static/5scwSm6PVTN6kV9phWiw6/_buildManifest.js" defer=""></script><script src="/_next/static/5scwSm6PVTN6kV9phWiw6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><div style="display:inline-block;max-width:100%;overflow:hidden;position:relative;box-sizing:border-box;margin:0"><div style="box-sizing:border-box;display:block;max-width:100%"><img style="max-width:100%;display:block;margin:0;border:none;padding:0" alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjE0NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></div><img alt="Kota Kanazawa" srcSet="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=256&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=384&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=384&amp;q=75" decoding="async" class="utils_borderCircle__13qdJ" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></div><h1 class="utils_heading2Xl__1I65m">Kota Kanazawa</h1></header><main><section class="utils_headingMd__3de6G"><p>夫&amp;2児の父。Webアプリケーションエンジニアのブログです。Ruby, React, TypeScript, GraphQL, Next.jsなどに興味があります。</p></section><section class="utils_headingMd__3de6G utils_padding1px__oCny8"><h2 class="utils_headingLg__de7p0">Blog Posts</h2><ul class="utils_list__S7_pe"><li class="utils_listItem__2eJpJ"><a href="/53697">【Rails】指定した日付の期間で生成されたオブジェクトかどうかを判断する方法</a><div class="utils_lightText__12Ckm"><time dateTime="2021-04-18T09:27:13.135Z">2021年04月18日(日)</time></div></li><li class="utils_listItem__2eJpJ"><a href="/54440">リモートワークで仕事モードに切り替える方法</a><div class="utils_lightText__12Ckm"><time dateTime="2021-04-18T06:12:15.351Z">2021年04月18日(日)</time></div></li><li class="utils_listItem__2eJpJ"><a href="/08927">Gatsby.js + Vercel + microCMSでブログをつくりました</a><div class="utils_lightText__12Ckm"><time dateTime="2021-03-06T12:26:40.401Z">2021年03月06日(土)</time></div></li></ul></section></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blogs":[{"id":"53697","createdAt":"2021-04-18T09:27:13.135Z","updatedAt":"2021-04-30T01:39:05.588Z","publishedAt":"2021-04-18T09:27:13.135Z","revisedAt":"2021-04-30T01:39:05.588Z","title":"【Rails】指定した日付の期間で生成されたオブジェクトかどうかを判断する方法","body":"\u003cp\u003eたとえば、先月の月初〜月末に作成されたオブジェクトかどうかを評価したいとき。\u003c/p\u003e\u003cp\u003e最初にパッと思いついたのは、こんな書き方。\u003c/p\u003e\u003cpre\u003e\u003ccode\u003eobject.created_at \u0026gt;= 先月の月初 \u0026amp;\u0026amp; object.created_at \u0026lt;= 先月の月末\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eたしかにこれでもいけるのだけど、ちょっと長いしナイスに書きたい。\u003c/p\u003e\u003cp\u003e友人に相談して、こんなふうに書けることを知った。\u003c/p\u003e\u003cpre\u003e\u003ccode\u003e1.month.ago.all_month.cover?(object.created_at)\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003ccode\u003eall_month\u003c/code\u003e  でその月の期間を範囲で取得できる。\u003c/p\u003e\u003cpre\u003e\u003ccode\u003eRails 6.0.3.4 Ruby 2.6.6 [12] pry(main)\u0026gt; 1.month.ago.all_month\n=\u0026gt; Mon, 01 Mar 2021 00:00:00 JST +09:00..Wed, 31 Mar 2021 23:59:59 JST +09:00\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003ccode\u003ecover?\u003c/code\u003e  でその範囲に該当していたら\u003ccode\u003etrue\u003c/code\u003e  を返す。可読性も高いし便利〜。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e参考\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://docs.ruby-lang.org/ja/latest/method/Range/i/=3d=3d=3d.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eRange#=== (Ruby 3.0.0 リファレンスマニュアル)\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://blog.toshimaru.net/datetime-range-check/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e[Ruby]日時が特定日時の範囲内にあるかのチェック - Hack Your Design!\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e"},{"id":"54440","createdAt":"2021-04-18T06:12:15.351Z","updatedAt":"2021-04-18T09:06:37.684Z","publishedAt":"2021-04-18T06:12:15.351Z","revisedAt":"2021-04-18T09:06:37.684Z","title":"リモートワークで仕事モードに切り替える方法","body":"\u003cp\u003eリモートワークだと、仕事モードになれないときが時々ある。とくに月曜日は波に乗るのに時間がかかってしまいがち。\u003c/p\u003e\u003cp\u003eこれがオフィスであればみんな集中してるし、良くも悪くも他人の目があるので強制的に脳が仕事モードに切り替わる。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eではリモートワークだとどうしたらいいか。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e自分の場合、小さいタスクを片付けていってリズムに乗るのが自分に合っている。メールやチャットに返信したり、カレンダーで予定をチェックしたり。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eあと、自分なりの仕事を始めるルーティンを作っている。\u003c/p\u003e\u003cul\u003e\u003cli\u003e出勤ボタンを押す\u003c/li\u003e\u003cli\u003eTODO作成\u003c/li\u003e\u003cli\u003e不具合報告チェック\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eなどなど。\u003c/p\u003e\u003cp\u003e負荷の少ないタスクをこなしていくことによって、リズムに乗れる気がしている。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eどうしてもリズムに乗れない時は、カフェに行くという手もある。ただ、これは隣の人がうるさかったり、香水の匂いがキツかったら個人的にはツラくて集中できない。運ゲーの要素が多い。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eうーむ、スパッと仕事モードに切り替えられる人になりたいなぁ。\u003c/p\u003e"},{"id":"08927","createdAt":"2021-03-06T12:26:40.401Z","updatedAt":"2021-03-06T22:18:03.337Z","publishedAt":"2021-03-06T12:26:40.401Z","revisedAt":"2021-03-06T22:18:03.337Z","title":"Gatsby.js + Vercel + microCMSでブログをつくりました","body":"\u003cp\u003e今まで\u003ca href=\"https://k-koh.hatenablog.com/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eはてなブログ\u003c/a\u003eで書いてきましたが、Gatsby製のブログへ移行します。\u003c/p\u003e\u003ch2 id=\"h03726fb0df\"\u003e技術スタック\u003c/h2\u003e\u003cp\u003e使用している技術について、なぜ選択したかを書きます。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"hb890d47f77\"\u003eGatsby\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://www.gatsbyjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eThe Fastest Frontend for the Modern Web | Gatsby\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e前から興味があったReact製の静的サイトジェネレーター「Gatsby」を選びました。今の仕事でReactとGraphQLをガッツリ書くので勉強したかったのもあります。\u003c/p\u003e\u003cp\u003eNext.jsも魅力的だったのですが、これは今考えてる個人開発アプリで使おうと思います。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"h065a574f0d\"\u003eVercel\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://vercel.com/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eDevelop. Preview. Ship. For the best frontend teams – Vercel\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eホスティングサービスにはVercelを選びました。Netlifyと迷いましたが、両方とも使ってみてVercelのほうがUIがわかりやすくて扱いやすいのでこちらにしました。でもNetlifyも普通に良いです。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"hae6947d5ce\"\u003emicroCMS\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://microcms.io/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003emicroCMS｜APIベースの日本製ヘッドレスCMS\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e以前からHeadless CMSがどんなものか知りたい気持ちがあり、その中でも最近ブイブイいわせてるらしい日本製のmicroCMSを選びました。\u003c/p\u003e\u003cp\u003eHeadless CMSだとContentfulが有名ですが、使い比べたうえでmicroCMSにしました。ContentfulよりもUIがわかりやすく使いやすいです。\u003c/p\u003e\u003ch2 id=\"h29e6fce2eb\"\u003e作った感想\u003c/h2\u003e\u003cp\u003e作って感じたことを書きます。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"h646eb7e60c\"\u003eとにかく爆速！\u003c/h3\u003e\u003cp\u003e僕は6〜7年くらいWordPressを触ってきたのですが、さすがに静的サイトは爆速です・・・！\u003c/p\u003e\u003cp\u003e動的サイトと比べるのはアンフェアですが、ブログ程度ならもう動的にHTMLを生成する必要はないのでは？と思ってしまいます。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"h2565c786e4\"\u003eプラグインが豊富\u003c/h3\u003e\u003cp\u003eGatsbyのプラグイン資産が豊富で、やりたいことはすぐに実装できる感じです。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"h38fbc44f31\"\u003eVercelが使いやすい\u003c/h3\u003e\u003cp\u003eVercelでのデプロイが簡単すぎておどろきました。誇張なしに5分くらいで終わりました。ビルドも早いです。\u003c/p\u003e\u003cp\u003eSSL化も当たり前のようにやってくれますし、独自ドメインにこだわらないなら完全無料でブログを運営できてしまいます。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eただ、記事を書いてビルドするのに1分ほどかかるので、誤字脱字を修正するのがすこし億劫ではあります。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"h40b1ee7929\"\u003emicroCMSが使いやすい\u003c/h3\u003e\u003cp\u003e非エンジニアの編集者でも使えるように作られているだけあって、UIがわかりやすいです。日本語がデフォルトだし、細かいところに気が利いています。\u003c/p\u003e\u003cp\u003e個人利用では到底使い切れないほどの容量が無料で使えるのも最高です。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"hf2daa6258e\"\u003eLighthouseスコアも良し\u003c/h3\u003e\u003cp\u003eLighthouseでのスコアも圧巻です。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://images.microcms-assets.io/assets/1f398035763e4b0da922ad7beec6ccb1/fa2ec83c5d5a450e91b6537279003228/%E5%9C%A7%E5%B7%BB%E3%81%AALighthouse%E3%82%B9%E3%82%B3%E3%82%A2.jpg\" alt\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e動的生成のWordPressと比較するのはかわいそうですが、ゴリゴリにチューニングしたWordPressでようやく叩き出せるスコアが、Gatsbyを使うとすぐに出せちゃいます。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eとはいえ、SEOはコンテンツのクオリティが勝負なので、その観点で見るとそんなに優劣はないのかなと思います。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"hf9c4170fa9\"\u003eデザインむずかしい\u003c/h3\u003e\u003cp\u003e早くリリースしたいがために、SCSSすら使わずCSSで書いてます。自分でデザインをするたび、デザイナーさんのすごさが身にしみます・・・。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch3 id=\"hb73770994e\"\u003eメンテナンスコストがどうなるか\u003c/h3\u003e\u003cp\u003e懸念点はメンテナンスコストです。特にJavaScript関連はvulnerabilitiesが頻繁に出るイメージがあります。\u003ccode\u003enpm audit fix\u003c/code\u003eしても直らないあんな面倒な思いはしたくない・・・。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch2 id=\"h3c32fc6d05\"\u003e今後の実装予定\u003c/h2\u003e\u003cp\u003e今回はミニマムリリースなので、まだまだ実装したいことがあります。\u003c/p\u003e\u003cul\u003e\u003cli\u003e今後記事が増えるため、ページネーションは必須\u003c/li\u003e\u003cli\u003e記事の検索機能が欲しい\u003c/li\u003e\u003cli\u003eTypeScriptで書きたい\u003c/li\u003e\u003cli\u003eさすがにデザインが質素すぎるのでTailwind CSSやchakraUIとかに挑戦してみたい\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eなどなど。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eなお、技術系をメインに書きますが、プライベートなことも書いていきたいと思います。\u003c/p\u003e\u003cp\u003eちなみにリポジトリはこちらです。\u003c/p\u003e\u003cp\u003e\u003ca href=\"https://github.com/kotakanazawa/blog\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ekotakanazawa\u0026#x2F;blog\u003c/a\u003e\u003c/p\u003e"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"5scwSm6PVTN6kV9phWiw6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>